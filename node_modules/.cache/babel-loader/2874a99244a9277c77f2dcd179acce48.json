{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adityapanwar/Desktop/Test/Outvio Test/qa-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adityapanwar/Desktop/Test/Outvio Test/qa-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var BASE_URL=\"http://localhost:3001\";// process.env.API_URL;\nvar buildUrl=function buildUrl(url){return\"\".concat(BASE_URL).concat(url);};var buildHeaders=function buildHeaders(){var headers={Accept:\"application/json\",\"Content-Type\":\"application/json\"};return new Headers(headers);};function appFetch(_x){return _appFetch.apply(this,arguments);}function _appFetch(){_appFetch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var method,data,headers,finalUrl,response,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:method=_args.length>1&&_args[1]!==undefined?_args[1]:\"GET\";data=_args.length>2&&_args[2]!==undefined?_args[2]:null;_context.prev=2;headers=buildHeaders();finalUrl=buildUrl(url);_context.next=7;return fetch(finalUrl,{method:method,headers:headers,body:method!==\"GET\"?JSON.stringify(data):null});case 7:response=_context.sent;if(response.ok){_context.next=10;break;}throw new Error(response.statusText);case 10:_context.next=12;return response.json();case 12:return _context.abrupt(\"return\",_context.sent);case 15:_context.prev=15;_context.t0=_context[\"catch\"](2);throw new Error(\"Oops, an error happened.\");case 18:case\"end\":return _context.stop();}}},_callee,null,[[2,15]]);}));return _appFetch.apply(this,arguments);}export default appFetch;","map":{"version":3,"sources":["/Users/adityapanwar/Desktop/Test/Outvio Test/qa-test/src/appFetch.js"],"names":["BASE_URL","buildUrl","url","buildHeaders","headers","Accept","Headers","appFetch","method","data","finalUrl","fetch","body","JSON","stringify","response","ok","Error","statusText","json"],"mappings":"mVAAA,GAAMA,CAAAA,QAAQ,CAAG,uBAAjB,CAA0C;AAE1C,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,GAAD,CAAS,CACxB,gBAAUF,QAAV,SAAqBE,GAArB,EACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,OAAO,CAAG,CACdC,MAAM,CAAE,kBADM,CAEd,eAAgB,kBAFF,CAAhB,CAKA,MAAO,IAAIC,CAAAA,OAAJ,CAAYF,OAAZ,CAAP,CACD,CAPD,C,QASeG,CAAAA,Q,oIAAf,iBAAwBL,GAAxB,4KAA6BM,MAA7B,+CAAsC,KAAtC,CAA6CC,IAA7C,+CAAoD,IAApD,iBAEUL,OAFV,CAEoBD,YAAY,EAFhC,CAIUO,QAJV,CAIqBT,QAAQ,CAACC,GAAD,CAJ7B,uBAM2BS,CAAAA,KAAK,CAACD,QAAD,CAAW,CACrCF,MAAM,CAAEA,MAD6B,CAErCJ,OAAO,CAAPA,OAFqC,CAGrCQ,IAAI,CAAEJ,MAAM,GAAK,KAAX,CAAmBK,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAnB,CAA0C,IAHX,CAAX,CANhC,QAMUM,QANV,kBAYSA,QAAQ,CAACC,EAZlB,+BAaY,IAAIC,CAAAA,KAAJ,CAAUF,QAAQ,CAACG,UAAnB,CAbZ,gCAgBiBH,CAAAA,QAAQ,CAACI,IAAT,EAhBjB,uHAkBU,IAAIF,CAAAA,KAAJ,CAAU,0BAAV,CAlBV,sE,2CAsBA,cAAeV,CAAAA,QAAf","sourcesContent":["const BASE_URL = \"http://localhost:3001\"; // process.env.API_URL;\n\nconst buildUrl = (url) => {\n  return `${BASE_URL}${url}`;\n};\n\nconst buildHeaders = () => {\n  const headers = {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n  };\n\n  return new Headers(headers);\n};\n\nasync function appFetch(url, method = \"GET\", data = null) {\n  try {\n    const headers = buildHeaders();\n\n    const finalUrl = buildUrl(url);\n\n    const response = await fetch(finalUrl, {\n      method: method,\n      headers,\n      body: method !== \"GET\" ? JSON.stringify(data) : null,\n    });\n\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return await response.json();\n  } catch (err) {\n    throw new Error(\"Oops, an error happened.\");\n  }\n}\n\nexport default appFetch;\n"]},"metadata":{},"sourceType":"module"}